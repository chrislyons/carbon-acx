import{c as g,g as E}from"./NewApp-BqazA668.js";import{r,j as u}from"./index-CmW8Jgfs.js";import{i as C}from"./DataUniverseWrapper-CxOdPet-.js";/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=g("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=g("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=g("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),A=r.forwardRef(({value:i,max:o,target:t,label:f,unit:l="",colorScheme:h="progress",size:w=300,showPercentage:d=!1,theme:m,loading:x=!1,onChartReady:p,className:L},z)=>{const a=r.useRef(null),c=r.useRef(null),y=r.useMemo(()=>m||(typeof window<"u"&&(document.documentElement.dataset.theme==="dark"||document.documentElement.classList.contains("dark"))?"dark":"light"),[m]),s=r.useMemo(()=>Math.min(i/o*100,100),[i,o]),v=r.useMemo(()=>{if(h==="carbon"){const e=t?t/o*100:50;return s<=e*.5?"var(--carbon-low)":s<=e?"var(--carbon-moderate)":"var(--carbon-high)"}else return h==="progress"?s>=90?"var(--carbon-low)":s>=50?"var(--interactive-primary)":"var(--carbon-moderate)":"var(--carbon-neutral)"},[h,s,t,o]),b=r.useMemo(()=>{d?s.toFixed(1):i.toFixed(0);const e=d?"%":l,n={series:[{type:"gauge",startAngle:200,endAngle:-20,min:0,max:o,splitNumber:8,radius:"85%",center:["50%","55%"],progress:{show:!0,width:18,itemStyle:{color:v}},axisLine:{lineStyle:{width:18,color:[[1,"var(--border-subtle)"]]}},axisTick:{show:!1},splitLine:{show:!0,length:10,distance:-12,lineStyle:{width:2,color:"var(--border-default)"}},axisLabel:{show:!1},pointer:{show:!1},anchor:{show:!1},title:{show:!0,offsetCenter:[0,"85%"],fontSize:14,color:"var(--text-secondary)"},detail:{valueAnimation:!0,width:"100%",lineHeight:40,borderRadius:8,offsetCenter:[0,"10%"],fontSize:40,fontWeight:"bold",formatter:`{value}${e?" "+e:""}`,color:v},data:[{value:d?s:i,name:f}]}]};return t!==void 0&&n.series&&n.series.push({type:"gauge",startAngle:200,endAngle:-20,min:0,max:o,radius:"85%",center:["50%","55%"],axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1},pointer:{show:!0,length:"95%",width:3,itemStyle:{color:"var(--color-goal)"}},anchor:{show:!0,showAbove:!0,size:8,itemStyle:{borderWidth:2,borderColor:"var(--color-goal)",color:"var(--surface-elevated)"}},title:{show:!1},detail:{show:!1},data:[{value:t}]}),n},[i,o,t,f,l,d,s,v]);return r.useEffect(()=>{if(!a.current)return;const e=C(a.current,y,{renderer:"canvas"});return c.current=e,p&&p(e),()=>{e.dispose(),c.current=null}},[y,p]),r.useEffect(()=>{const e=c.current;e&&e.setOption(b,{notMerge:!1,lazyUpdate:!1})},[b]),r.useEffect(()=>{const e=c.current;e&&(x?e.showLoading("default",{text:"Loading gauge...",color:"var(--interactive-primary)",textColor:"var(--text-primary)",maskColor:"var(--surface-bg)"}):e.hideLoading())},[x]),r.useEffect(()=>{const e=c.current;if(!e)return;const n=()=>{e.resize()};window.addEventListener("resize",n);const k=new ResizeObserver(n);return a.current&&k.observe(a.current),()=>{window.removeEventListener("resize",n),k.disconnect()}},[]),u.jsxs("div",{ref:z,className:E("flex flex-col items-center",L),children:[u.jsx("div",{ref:a,style:{width:`${w}px`,height:`${w}px`},role:"img","aria-label":`Gauge showing ${f}: ${i} ${l}`}),t!==void 0&&u.jsx("div",{className:"mt-2 text-center",children:u.jsxs("p",{className:"text-[var(--font-size-sm)] text-[var(--text-secondary)]",children:["Target: ",t.toLocaleString()," ",l]})})]})});A.displayName="GaugeProgress";export{$ as C,A as G,N as X,S as a};
