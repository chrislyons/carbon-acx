import{r as o,j as t,R as at,d as ar,c as sr}from"./index-CmW8Jgfs.js";import{M as or,a as st,P as ir,b as cr,d as lr,L as dr,c as I,e as ot,f as U,B,g as Z,h as V,m as ye,u as ur,i as fr}from"./NewApp-BqazA668.js";import{H as vr,P as mr,A as pr,G as hr,D as xr}from"./DataUniverseWrapper-CxOdPet-.js";import{T as Ue,A as it,S as gr}from"./Transition-Zqv1UpOn.js";import{G as yr,X as br,C as be,a as We}from"./GaugeProgress-CV2Grlq_.js";import{a as Cr,l as jr,c as Nr,L as $e}from"./api-BJbkfRa9.js";import{T as ue}from"./trending-up-Ji8bJILu.js";class wr extends o.Component{getSnapshotBeforeUpdate(r){const n=this.props.childRef.current;if(n&&r.isPresent&&!this.props.isPresent){const a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Sr({children:e,isPresent:r}){const n=o.useId(),a=o.useRef(null),s=o.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=o.useContext(or);return o.useInsertionEffect(()=>{const{width:l,height:c,top:m,left:d}=s.current;if(r||!a.current||!l||!c)return;a.current.dataset.motionPopId=n;const v=document.createElement("style");return i&&(v.nonce=i),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            top: ${m}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(v)}},[r]),t.jsx(wr,{isPresent:r,childRef:a,sizeRef:s,children:o.cloneElement(e,{ref:a})})}const Er=({children:e,initial:r,isPresent:n,onExitComplete:a,custom:s,presenceAffectsLayout:i,mode:l})=>{const c=st(kr),m=o.useId(),d=o.useCallback(f=>{c.set(f,!0);for(const p of c.values())if(!p)return;a&&a()},[c,a]),v=o.useMemo(()=>({id:m,initial:r,isPresent:n,custom:s,onExitComplete:d,register:f=>(c.set(f,!1),()=>c.delete(f))}),i?[Math.random(),d]:[n,d]);return o.useMemo(()=>{c.forEach((f,p)=>c.set(p,!1))},[n]),o.useEffect(()=>{!n&&!c.size&&a&&a()},[n]),l==="popLayout"&&(e=t.jsx(Sr,{isPresent:n,children:e})),t.jsx(ir.Provider,{value:v,children:e})};function kr(){return new Map}const ae=e=>e.key||"";function He(e){const r=[];return o.Children.forEach(e,n=>{o.isValidElement(n)&&r.push(n)}),r}const Rr=({children:e,custom:r,initial:n=!0,onExitComplete:a,presenceAffectsLayout:s=!0,mode:i="sync",propagate:l=!1})=>{const[c,m]=cr(l),d=o.useMemo(()=>He(e),[e]),v=l&&!c?[]:d.map(ae),f=o.useRef(!0),p=o.useRef(d),h=st(()=>new Map),[y,u]=o.useState(d),[g,C]=o.useState(d);lr(()=>{f.current=!1,p.current=d;for(let S=0;S<g.length;S++){const w=ae(g[S]);v.includes(w)?h.delete(w):h.get(w)!==!0&&h.set(w,!1)}},[g,v.length,v.join("-")]);const j=[];if(d!==y){let S=[...d];for(let w=0;w<g.length;w++){const b=g[w],E=ae(b);v.includes(E)||(S.splice(w,0,b),j.push(b))}i==="wait"&&j.length&&(S=j),C(He(S)),u(d);return}const{forceRender:N}=o.useContext(dr);return t.jsx(t.Fragment,{children:g.map(S=>{const w=ae(S),b=l&&!c?!1:d===g||v.includes(w),E=()=>{if(h.has(w))h.set(w,!0);else return;let k=!0;h.forEach(T=>{T||(k=!1)}),k&&(N==null||N(),C(p.current),l&&(m==null||m()),a&&a())};return t.jsx(Er,{isPresent:b,initial:!f.current||n?void 0:!1,custom:b?void 0:r,presenceAffectsLayout:s,mode:i,onExitComplete:b?void 0:E,children:S},w)})})};/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=I("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=I("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=I("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=I("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=I("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=I("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=I("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=I("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=I("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=I("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);function L(e,r,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return r==null?void 0:r(s)}}function Fr(e,r){const n=o.createContext(r),a=i=>{const{children:l,...c}=i,m=o.useMemo(()=>c,Object.values(c));return t.jsx(n.Provider,{value:m,children:l})};a.displayName=e+"Provider";function s(i){const l=o.useContext(n);if(l)return l;if(r!==void 0)return r;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[a,s]}function ct(e,r=[]){let n=[];function a(i,l){const c=o.createContext(l),m=n.length;n=[...n,l];const d=f=>{var C;const{scope:p,children:h,...y}=f,u=((C=p==null?void 0:p[e])==null?void 0:C[m])||c,g=o.useMemo(()=>y,Object.values(y));return t.jsx(u.Provider,{value:g,children:h})};d.displayName=i+"Provider";function v(f,p){var u;const h=((u=p==null?void 0:p[e])==null?void 0:u[m])||c,y=o.useContext(h);if(y)return y;if(l!==void 0)return l;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,v]}const s=()=>{const i=n.map(l=>o.createContext(l));return function(c){const m=(c==null?void 0:c[e])||i;return o.useMemo(()=>({[`__scope${e}`]:{...c,[e]:m}}),[c,m])}};return s.scopeName=e,[a,_r(s,...r)]}function _r(...e){const r=e[0];if(e.length===1)return r;const n=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=a.reduce((c,{useScope:m,scopeName:d})=>{const f=m(i)[`__scope${d}`];return{...c,...f}},{});return o.useMemo(()=>({[`__scope${r.scopeName}`]:l}),[l])}};return n.scopeName=r.scopeName,n}var q=globalThis!=null&&globalThis.document?o.useLayoutEffect:()=>{},Br=at[" useInsertionEffect ".trim().toString()]||q;function lt({prop:e,defaultProp:r,onChange:n=()=>{},caller:a}){const[s,i,l]=Ur({defaultProp:r,onChange:n}),c=e!==void 0,m=c?e:s;{const v=o.useRef(e!==void 0);o.useEffect(()=>{const f=v.current;f!==c&&console.warn(`${a} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=c},[c,a])}const d=o.useCallback(v=>{var f;if(c){const p=Wr(v)?v(e):v;p!==e&&((f=l.current)==null||f.call(l,p))}else i(v)},[c,e,i,l]);return[m,d]}function Ur({defaultProp:e,onChange:r}){const[n,a]=o.useState(e),s=o.useRef(n),i=o.useRef(r);return Br(()=>{i.current=r},[r]),o.useEffect(()=>{var l;s.current!==n&&((l=i.current)==null||l.call(i,n),s.current=n)},[n,s]),[n,a,i]}function Wr(e){return typeof e=="function"}var $r=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],A=$r.reduce((e,r)=>{const n=ot(`Primitive.${r}`),a=o.forwardRef((s,i)=>{const{asChild:l,...c}=s,m=l?n:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(m,{...c,ref:i})});return a.displayName=`Primitive.${r}`,{...e,[r]:a}},{});function Hr(e,r){e&&ar.flushSync(()=>e.dispatchEvent(r))}function Vr(e,r){return o.useReducer((n,a)=>r[n][a]??n,e)}var te=e=>{const{present:r,children:n}=e,a=Gr(r),s=typeof n=="function"?n({present:a.isPresent}):o.Children.only(n),i=U(a.ref,Kr(s));return typeof n=="function"||a.isPresent?o.cloneElement(s,{ref:i}):null};te.displayName="Presence";function Gr(e){const[r,n]=o.useState(),a=o.useRef(null),s=o.useRef(e),i=o.useRef("none"),l=e?"mounted":"unmounted",[c,m]=Vr(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const d=se(a.current);i.current=c==="mounted"?d:"none"},[c]),q(()=>{const d=a.current,v=s.current;if(v!==e){const p=i.current,h=se(d);e?m("MOUNT"):h==="none"||(d==null?void 0:d.display)==="none"?m("UNMOUNT"):m(v&&p!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,m]),q(()=>{if(r){let d;const v=r.ownerDocument.defaultView??window,f=h=>{const u=se(a.current).includes(CSS.escape(h.animationName));if(h.target===r&&u&&(m("ANIMATION_END"),!s.current)){const g=r.style.animationFillMode;r.style.animationFillMode="forwards",d=v.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=g)})}},p=h=>{h.target===r&&(i.current=se(a.current))};return r.addEventListener("animationstart",p),r.addEventListener("animationcancel",f),r.addEventListener("animationend",f),()=>{v.clearTimeout(d),r.removeEventListener("animationstart",p),r.removeEventListener("animationcancel",f),r.removeEventListener("animationend",f)}}else m("ANIMATION_END")},[r,m]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:o.useCallback(d=>{a.current=d?getComputedStyle(d):null,n(d)},[])}}function se(e){return(e==null?void 0:e.animationName)||"none"}function Kr(e){var a,s;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Yr=at[" useId ".trim().toString()]||(()=>{}),Qr=0;function fe(e){const[r,n]=o.useState(Yr());return q(()=>{n(a=>a??String(Qr++))},[e]),e||(r?`radix-${r}`:"")}var he="Collapsible",[Xr]=ct(he),[qr,Ae]=Xr(he),dt=o.forwardRef((e,r)=>{const{__scopeCollapsible:n,open:a,defaultOpen:s,disabled:i,onOpenChange:l,...c}=e,[m,d]=lt({prop:a,defaultProp:s??!1,onChange:l,caller:he});return t.jsx(qr,{scope:n,disabled:i,contentId:fe(),open:m,onOpenToggle:o.useCallback(()=>d(v=>!v),[d]),children:t.jsx(A.div,{"data-state":De(m),"data-disabled":i?"":void 0,...c,ref:r})})});dt.displayName=he;var ut="CollapsibleTrigger",ft=o.forwardRef((e,r)=>{const{__scopeCollapsible:n,...a}=e,s=Ae(ut,n);return t.jsx(A.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":De(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...a,ref:r,onClick:L(e.onClick,s.onOpenToggle)})});ft.displayName=ut;var Pe="CollapsibleContent",vt=o.forwardRef((e,r)=>{const{forceMount:n,...a}=e,s=Ae(Pe,e.__scopeCollapsible);return t.jsx(te,{present:n||s.open,children:({present:i})=>t.jsx(Zr,{...a,ref:r,present:i})})});vt.displayName=Pe;var Zr=o.forwardRef((e,r)=>{const{__scopeCollapsible:n,present:a,children:s,...i}=e,l=Ae(Pe,n),[c,m]=o.useState(a),d=o.useRef(null),v=U(r,d),f=o.useRef(0),p=f.current,h=o.useRef(0),y=h.current,u=l.open||c,g=o.useRef(u),C=o.useRef(void 0);return o.useEffect(()=>{const j=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(j)},[]),q(()=>{const j=d.current;if(j){C.current=C.current||{transitionDuration:j.style.transitionDuration,animationName:j.style.animationName},j.style.transitionDuration="0s",j.style.animationName="none";const N=j.getBoundingClientRect();f.current=N.height,h.current=N.width,g.current||(j.style.transitionDuration=C.current.transitionDuration,j.style.animationName=C.current.animationName),m(a)}},[l.open,a]),t.jsx(A.div,{"data-state":De(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!u,...i,ref:v,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:u&&s})});function De(e){return e?"open":"closed"}var Jr=dt,en=ft,tn=vt;const mt={car:{label:"Car",factor:.18,activityId:"TRAN.SCHOOLRUN.CAR.KM"},bus:{label:"Bus",factor:.08662,activityId:"TRAN.TTC.BUS.KM"},subway:{label:"Subway/Train",factor:.00476,activityId:"TRAN.TTC.SUBWAY.KM"},bike:{label:"Bike/Walk",factor:0,activityId:"TRAN.SCHOOLRUN.BIKE.KM"}},H=[{id:"commute",icon:Ve,title:"How do you commute?",description:"Select your primary mode of transportation",inputType:"choice",defaultValue:"car",options:Object.entries(mt).map(([e,{label:r,factor:n}])=>({value:e,label:r,description:`~${(n*1e3).toFixed(0)}g CO₂/km`,emissions:0}))},{id:"commuteDistance",icon:Ve,title:"How far do you commute daily?",description:"One-way distance",inputType:"slider",unit:"km",min:0,max:100,step:5,defaultValue:10},{id:"diet",icon:Lr,title:"What's your diet like?",description:"Your typical eating habits",inputType:"choice",defaultValue:"mixed",options:[{value:"vegan",label:"Vegan",description:"Plant-based diet only",emissions:1500},{value:"vegetarian",label:"Vegetarian",description:"No meat, some dairy/eggs",emissions:2500},{value:"mixed",label:"Mixed",description:"Balanced meat and plants",emissions:3300}]},{id:"energy",icon:vr,title:"How much energy do you use?",description:"Heating, cooling, electricity usage",inputType:"choice",defaultValue:"average",options:[{value:"low",label:"Low",description:"Energy-efficient home, minimal use",emissions:1500},{value:"average",label:"Average",description:"Typical household consumption",emissions:2500},{value:"high",label:"High",description:"Large home, high usage",emissions:4e3}]},{id:"shopping",icon:Mr,title:"How much do you shop?",description:"Clothing, electronics, household goods",inputType:"choice",defaultValue:"moderate",options:[{value:"minimal",label:"Minimal",description:"Buy only essentials",emissions:500},{value:"moderate",label:"Moderate",description:"Regular shopping habits",emissions:1e3},{value:"high",label:"Frequent",description:"Shop often for new items",emissions:2e3}]}],rn=900,nn=22,an=2.5;function sn({onComplete:e,onCancel:r}){const[n,a]=o.useState(0),[s,i]=o.useState({commute:"car",commuteDistance:10,diet:"mixed",energy:"average",shopping:"moderate"}),l=H[n],c=n===H.length-1,d=o.useCallback(()=>{var D,W,re;const h=s.commute,y=s.commuteDistance,u=mt[h].factor*y*365*2,g=(D=H[2].options)==null?void 0:D.find($=>$.value===s.diet),C=(g==null?void 0:g.emissions)||2500,j=(W=H[3].options)==null?void 0:W.find($=>$.value===s.energy),N=(j==null?void 0:j.emissions)||2500,S=(re=H[4].options)==null?void 0:re.find($=>$.value===s.shopping),w=(S==null?void 0:S.emissions)||1e3,b=u+C+N+w,E=b/rn,k=b/nn,T=b/an;return{total:b,breakdown:{commute:u,diet:C,energy:N,shopping:w},comparisons:{flights:E,trees:k,meals:T}}},[s])(),v=h=>{i(y=>({...y,[l.id]:h}))},f=()=>{c?e(d):a(n+1)},p=()=>{n>0&&a(n-1)};return o.useEffect(()=>{const h=y=>{y.key==="Escape"&&r&&r()};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[r]),t.jsxs("div",{className:"max-w-4xl mx-auto px-[var(--space-6)]",children:[t.jsx("div",{className:"flex justify-center gap-[var(--space-2)] mb-[var(--space-6)]",children:H.map((h,y)=>t.jsx("div",{className:"h-1 w-20 rounded-full transition-colors duration-300",style:{backgroundColor:y<=n?"var(--interactive-primary)":"var(--border-subtle)"}},h.id))}),t.jsx(Ue,{type:"slide-up",show:!0,delay:0,children:t.jsx(on,{question:l,value:s[l.id],onChange:v,currentEmissions:d.total})}),t.jsx(Ue,{type:"fade",show:!0,delay:0,children:t.jsx("div",{className:"mt-[var(--space-4)]",children:t.jsx(dn,{emissions:d})})}),t.jsxs("div",{className:"flex items-center justify-between mt-[var(--space-6)]",children:[t.jsx(B,{variant:"ghost",size:"md",onClick:p,disabled:n===0,icon:t.jsx(zr,{className:"w-5 h-5"}),children:"Back"}),t.jsxs("div",{className:"text-center",style:{fontSize:"var(--font-size-sm)",color:"var(--text-tertiary)"},children:["Question ",n+1," of ",H.length]}),t.jsx(B,{variant:"primary",size:"md",onClick:f,icon:t.jsx(it,{className:"w-5 h-5"}),children:c?"See Results":"Next"})]})]})}function on({question:e,value:r,onChange:n,currentEmissions:a}){const s=e.icon;return t.jsxs("div",{className:"p-[var(--space-8)] rounded-[var(--radius-xl)]",style:{backgroundColor:"var(--surface-elevated)",border:"1px solid var(--border-default)"},children:[t.jsxs("div",{className:"flex items-start gap-[var(--space-4)] mb-[var(--space-6)]",children:[t.jsx("div",{className:"p-[var(--space-3)] rounded-[var(--radius-lg)] flex-shrink-0",style:{backgroundColor:"var(--color-baseline-bg)"},children:t.jsx(s,{className:"w-8 h-8 text-[var(--color-baseline)]"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-bold mb-[var(--space-1)]",style:{fontSize:"var(--font-size-xl)",color:"var(--text-primary)"},children:e.title}),t.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:e.description})]})]}),t.jsxs("div",{className:"mt-[var(--space-6)]",children:[e.inputType==="slider"?t.jsx(cn,{value:r,onChange:i=>n(i),min:e.min,max:e.max,step:e.step,unit:e.unit}):t.jsx(ln,{value:r,onChange:i=>n(i),options:e.options}),e.id==="commute"&&t.jsx(oe,{title:"Transport emission factors & sources",children:t.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:[t.jsx("p",{className:"mb-[var(--space-3)]",children:"Emission factors are sourced from our curated dataset with verified activity-based calculations:"}),t.jsxs("ul",{className:"space-y-[var(--space-2)]",children:[t.jsxs("li",{className:"flex items-start gap-[var(--space-2)]",children:[t.jsx("span",{style:{color:"var(--color-baseline)"},children:"•"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Car:"})," 180g CO₂/km (TRAN.SCHOOLRUN.CAR.KM)"]})]}),t.jsxs("li",{className:"flex items-start gap-[var(--space-2)]",children:[t.jsx("span",{style:{color:"var(--color-baseline)"},children:"•"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Bus:"})," 86.6g CO₂/km (TRAN.TTC.BUS.KM)"]})]}),t.jsxs("li",{className:"flex items-start gap-[var(--space-2)]",children:[t.jsx("span",{style:{color:"var(--color-baseline)"},children:"•"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Subway/Train:"})," 4.76g CO₂/km (TRAN.TTC.SUBWAY.KM)"]})]}),t.jsxs("li",{className:"flex items-start gap-[var(--space-2)]",children:[t.jsx("span",{style:{color:"var(--color-baseline)"},children:"•"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Bike/Walk:"})," 0g CO₂ - zero direct emissions"]})]})]}),t.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-tertiary)"},className:"mt-[var(--space-3)]",children:"Annual emissions = daily distance × 2 (round trip) × 365 days × emission factor"})]})}),e.id==="diet"&&t.jsx(oe,{title:"Food category impact breakdown",children:t.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:[t.jsx("p",{className:"mb-[var(--space-3)]",children:"Food production accounts for ~25% of global emissions. Here's how different categories compare:"}),t.jsxs("div",{className:"space-y-[var(--space-2)]",children:[t.jsxs("div",{className:"flex justify-between items-center py-[var(--space-2)] border-b",style:{borderColor:"var(--border-subtle)"},children:[t.jsx("span",{className:"font-medium",children:"Beef & Lamb"}),t.jsx("span",{style:{color:"var(--carbon-high)"},children:"Very High (50-100 kg CO₂/kg)"})]}),t.jsxs("div",{className:"flex justify-between items-center py-[var(--space-2)] border-b",style:{borderColor:"var(--border-subtle)"},children:[t.jsx("span",{className:"font-medium",children:"Pork & Poultry"}),t.jsx("span",{style:{color:"var(--carbon-moderate)"},children:"High (5-12 kg CO₂/kg)"})]}),t.jsxs("div",{className:"flex justify-between items-center py-[var(--space-2)] border-b",style:{borderColor:"var(--border-subtle)"},children:[t.jsx("span",{className:"font-medium",children:"Dairy & Eggs"}),t.jsx("span",{style:{color:"var(--carbon-neutral)"},children:"Moderate (2-5 kg CO₂/kg)"})]}),t.jsxs("div",{className:"flex justify-between items-center py-[var(--space-2)] border-b",style:{borderColor:"var(--border-subtle)"},children:[t.jsx("span",{className:"font-medium",children:"Plant-based Foods"}),t.jsx("span",{style:{color:"var(--carbon-low)"},children:"Low (0.3-2 kg CO₂/kg)"})]})]}),t.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-tertiary)"},className:"mt-[var(--space-3)]",children:"Annual diet emissions: Vegan ~1.5t CO₂, Vegetarian ~2.5t CO₂, Mixed ~3.3t CO₂"})]})}),e.id==="energy"&&t.jsx(oe,{title:"Appliance & energy breakdown",children:t.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:[t.jsx("p",{className:"mb-[var(--space-3)]",children:"Home energy usage varies by appliances, insulation, and grid intensity. Typical annual emissions by appliance:"}),t.jsxs("div",{className:"grid grid-cols-2 gap-[var(--space-3)]",children:[t.jsxs("div",{className:"flex items-center justify-between p-[var(--space-2)] rounded",style:{backgroundColor:"var(--surface-bg)"},children:[t.jsx("span",{children:"Heating/Cooling"}),t.jsx("span",{className:"font-medium",children:"~800 kg CO₂"})]}),t.jsxs("div",{className:"flex items-center justify-between p-[var(--space-2)] rounded",style:{backgroundColor:"var(--surface-bg)"},children:[t.jsx("span",{children:"Water Heater"}),t.jsx("span",{className:"font-medium",children:"~450 kg CO₂"})]}),t.jsxs("div",{className:"flex items-center justify-between p-[var(--space-2)] rounded",style:{backgroundColor:"var(--surface-bg)"},children:[t.jsx("span",{children:"Lighting"}),t.jsx("span",{className:"font-medium",children:"~200 kg CO₂"})]}),t.jsxs("div",{className:"flex items-center justify-between p-[var(--space-2)] rounded",style:{backgroundColor:"var(--surface-bg)"},children:[t.jsx("span",{children:"Appliances"}),t.jsx("span",{className:"font-medium",children:"~300 kg CO₂"})]})]}),t.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-tertiary)"},className:"mt-[var(--space-3)]",children:"Total annual home energy: Low ~1.5t CO₂, Average ~2.5t CO₂, High ~4t CO₂"})]})}),e.id==="shopping"&&t.jsx(oe,{title:"Shopping category emissions",children:t.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:[t.jsx("p",{className:"mb-[var(--space-3)]",children:"Consumer goods have embedded emissions from manufacturing, shipping, and packaging:"}),t.jsxs("div",{className:"space-y-[var(--space-2)]",children:[t.jsxs("div",{className:"flex items-center justify-between py-[var(--space-2)] border-b",style:{borderColor:"var(--border-subtle)"},children:[t.jsx("span",{className:"font-medium",children:"Electronics (laptop, phone)"}),t.jsx("span",{style:{color:"var(--carbon-moderate)"},children:"~200-400 kg CO₂ each"})]}),t.jsxs("div",{className:"flex items-center justify-between py-[var(--space-2)] border-b",style:{borderColor:"var(--border-subtle)"},children:[t.jsx("span",{className:"font-medium",children:"Clothing (fast fashion)"}),t.jsx("span",{style:{color:"var(--carbon-neutral)"},children:"~5-20 kg CO₂ per item"})]}),t.jsxs("div",{className:"flex items-center justify-between py-[var(--space-2)] border-b",style:{borderColor:"var(--border-subtle)"},children:[t.jsx("span",{className:"font-medium",children:"Furniture (sofa, table)"}),t.jsx("span",{style:{color:"var(--carbon-high)"},children:"~100-300 kg CO₂ each"})]}),t.jsxs("div",{className:"flex items-center justify-between py-[var(--space-2)] border-b",style:{borderColor:"var(--border-subtle)"},children:[t.jsx("span",{className:"font-medium",children:"Books & small goods"}),t.jsx("span",{style:{color:"var(--carbon-low)"},children:"~1-5 kg CO₂ each"})]})]}),t.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-tertiary)"},className:"mt-[var(--space-3)]",children:"Annual shopping emissions: Minimal ~500 kg CO₂, Moderate ~1t CO₂, Frequent ~2t CO₂"})]})})]})]})}function cn({value:e,onChange:r,min:n,max:a,step:s,unit:i}){return t.jsxs("div",{className:"space-y-[var(--space-4)]",children:[t.jsx("input",{type:"range",min:n,max:a,step:s,value:e,onChange:l=>r(parseInt(l.target.value)),className:"w-full h-2 rounded-full appearance-none cursor-pointer",style:{background:`linear-gradient(to right, var(--interactive-primary) 0%, var(--interactive-primary) ${(e-n)/(a-n)*100}%, var(--border-subtle) ${(e-n)/(a-n)*100}%, var(--border-subtle) 100%)`}}),t.jsxs("div",{className:"text-center",children:[t.jsx("span",{className:"font-bold",style:{fontSize:"var(--font-size-4xl)",color:"var(--text-primary)"},children:e}),t.jsx("span",{className:"ml-[var(--space-2)]",style:{fontSize:"var(--font-size-xl)",color:"var(--text-secondary)"},children:i})]}),t.jsxs("div",{className:"flex justify-between",style:{fontSize:"var(--font-size-sm)",color:"var(--text-tertiary)"},children:[t.jsx("span",{children:"None"}),t.jsx("span",{children:"Long commute"})]})]})}function ln({value:e,onChange:r,options:n}){const a=n.length===4?"grid-cols-1 md:grid-cols-2":"grid-cols-1 md:grid-cols-3";return t.jsx("div",{className:`grid gap-[var(--space-3)] ${a}`,children:n.map(s=>{const i=e===s.value;return t.jsxs("button",{onClick:()=>r(s.value),className:"p-[var(--space-4)] rounded-[var(--radius-lg)] border-2 text-left transition-all hover:scale-[1.01]",style:{borderColor:i?"var(--interactive-primary)":"var(--border-default)",backgroundColor:i?"var(--color-baseline-bg)":"var(--surface-bg)"},children:[t.jsx("div",{className:"font-semibold mb-[var(--space-1)]",style:{fontSize:"var(--font-size-base)",color:"var(--text-primary)"},children:s.label}),t.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:s.description}),t.jsxs("div",{className:"mt-[var(--space-2)] font-medium",style:{fontSize:"var(--font-size-xs)",color:"var(--text-tertiary)"},children:["~",(s.emissions/1e3).toFixed(1),"t CO₂/year"]})]},s.value)})})}function oe({title:e,children:r}){const[n,a]=o.useState(!1);return t.jsxs(Jr,{open:n,onOpenChange:a,className:"mt-[var(--space-4)]",children:[t.jsx(en,{asChild:!0,children:t.jsxs("button",{className:"flex items-center justify-between w-full px-[var(--space-4)] py-[var(--space-3)] rounded-[var(--radius-lg)] border transition-all",style:{borderColor:"var(--border-default)",backgroundColor:"transparent"},"aria-label":n?`Hide ${e}`:`Show ${e}`,onMouseEnter:s=>{s.currentTarget.style.backgroundColor="var(--surface-hover)"},onMouseLeave:s=>{s.currentTarget.style.backgroundColor="transparent"},children:[t.jsx("span",{className:"font-medium",style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:e}),n?t.jsx(Tr,{className:"w-4 h-4 transition-transform",style:{color:"var(--text-tertiary)"}}):t.jsx(Or,{className:"w-4 h-4 transition-transform",style:{color:"var(--text-tertiary)"}})]})}),t.jsx(tn,{className:"overflow-hidden data-[state=closed]:animate-collapse data-[state=open]:animate-expand",children:t.jsx("div",{className:"px-[var(--space-4)] py-[var(--space-3)] mt-[var(--space-2)] rounded-[var(--radius-lg)] border",style:{backgroundColor:"var(--surface-elevated)",borderColor:"var(--border-subtle)"},children:r})})]})}function dn({emissions:e}){const r=e.total/1e3;return t.jsxs("div",{className:"p-[var(--space-6)] rounded-[var(--radius-lg)]",style:{backgroundColor:"var(--surface-bg)",border:"1px solid var(--border-subtle)"},children:[t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-[var(--space-4)] mb-[var(--space-6)]",children:[t.jsxs("div",{className:"text-center md:text-left",children:[t.jsx("div",{className:"mb-[var(--space-1)]",style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Current Estimate"}),t.jsxs("div",{className:"flex items-baseline gap-[var(--space-2)]",children:[t.jsx("span",{className:"font-bold",style:{fontSize:"var(--font-size-3xl)",color:"var(--text-primary)"},children:r.toFixed(1)}),t.jsx("span",{style:{fontSize:"var(--font-size-lg)",color:"var(--text-secondary)"},children:"tonnes CO₂/year"})]})]}),t.jsx("div",{className:"w-32 h-32 flex-shrink-0",children:t.jsx(yr,{value:r,max:4.5*2,label:"Carbon Footprint",unit:"t",colorScheme:"carbon",size:128})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-[var(--space-4)]",children:[t.jsx(Ce,{icon:t.jsx(Pr,{className:"w-5 h-5"}),value:e.comparisons.flights.toFixed(1),label:"round trip flights",sublabel:"NYC → LA"}),t.jsx(Ce,{icon:t.jsx(Ir,{className:"w-5 h-5"}),value:Math.ceil(e.comparisons.trees).toString(),label:"trees needed",sublabel:"to offset/year"}),t.jsx(Ce,{icon:t.jsx(Ar,{className:"w-5 h-5"}),value:Math.floor(e.comparisons.meals).toString(),label:"plant meals",sublabel:"vs meat equivalent"})]})]})}function Ce({icon:e,value:r,label:n,sublabel:a}){return t.jsxs("div",{className:"text-center space-y-[var(--space-2)]",children:[t.jsx("div",{className:"mx-auto w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--surface-elevated)",color:"var(--text-secondary)"},children:e}),t.jsx("div",{className:"font-bold",style:{fontSize:"var(--font-size-2xl)",color:"var(--text-primary)"},children:r}),t.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:n}),t.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-tertiary)"},children:a})]})}function ee(e){const r=o.useRef(e);return o.useEffect(()=>{r.current=e}),o.useMemo(()=>(...n)=>{var a;return(a=r.current)==null?void 0:a.call(r,...n)},[])}function un(e,r=globalThis==null?void 0:globalThis.document){const n=ee(e);o.useEffect(()=>{const a=s=>{s.key==="Escape"&&n(s)};return r.addEventListener("keydown",a,{capture:!0}),()=>r.removeEventListener("keydown",a,{capture:!0})},[n,r])}var fn="DismissableLayer",Oe="dismissableLayer.update",vn="dismissableLayer.pointerDownOutside",mn="dismissableLayer.focusOutside",Ge,pt=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ht=o.forwardRef((e,r)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:l,onDismiss:c,...m}=e,d=o.useContext(pt),[v,f]=o.useState(null),p=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=o.useState({}),y=U(r,E=>f(E)),u=Array.from(d.layers),[g]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),C=u.indexOf(g),j=v?u.indexOf(v):-1,N=d.layersWithOutsidePointerEventsDisabled.size>0,S=j>=C,w=xn(E=>{const k=E.target,T=[...d.branches].some(D=>D.contains(k));!S||T||(s==null||s(E),l==null||l(E),E.defaultPrevented||c==null||c())},p),b=gn(E=>{const k=E.target;[...d.branches].some(D=>D.contains(k))||(i==null||i(E),l==null||l(E),E.defaultPrevented||c==null||c())},p);return un(E=>{j===d.layers.size-1&&(a==null||a(E),!E.defaultPrevented&&c&&(E.preventDefault(),c()))},p),o.useEffect(()=>{if(v)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Ge=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(v)),d.layers.add(v),Ke(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Ge)}},[v,p,n,d]),o.useEffect(()=>()=>{v&&(d.layers.delete(v),d.layersWithOutsidePointerEventsDisabled.delete(v),Ke())},[v,d]),o.useEffect(()=>{const E=()=>h({});return document.addEventListener(Oe,E),()=>document.removeEventListener(Oe,E)},[]),t.jsx(A.div,{...m,ref:y,style:{pointerEvents:N?S?"auto":"none":void 0,...e.style},onFocusCapture:L(e.onFocusCapture,b.onFocusCapture),onBlurCapture:L(e.onBlurCapture,b.onBlurCapture),onPointerDownCapture:L(e.onPointerDownCapture,w.onPointerDownCapture)})});ht.displayName=fn;var pn="DismissableLayerBranch",hn=o.forwardRef((e,r)=>{const n=o.useContext(pt),a=o.useRef(null),s=U(r,a);return o.useEffect(()=>{const i=a.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),t.jsx(A.div,{...e,ref:s})});hn.displayName=pn;function xn(e,r=globalThis==null?void 0:globalThis.document){const n=ee(e),a=o.useRef(!1),s=o.useRef(()=>{});return o.useEffect(()=>{const i=c=>{if(c.target&&!a.current){let m=function(){xt(vn,n,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(r.removeEventListener("click",s.current),s.current=m,r.addEventListener("click",s.current,{once:!0})):m()}else r.removeEventListener("click",s.current);a.current=!1},l=window.setTimeout(()=>{r.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),r.removeEventListener("pointerdown",i),r.removeEventListener("click",s.current)}},[r,n]),{onPointerDownCapture:()=>a.current=!0}}function gn(e,r=globalThis==null?void 0:globalThis.document){const n=ee(e),a=o.useRef(!1);return o.useEffect(()=>{const s=i=>{i.target&&!a.current&&xt(mn,n,{originalEvent:i},{discrete:!1})};return r.addEventListener("focusin",s),()=>r.removeEventListener("focusin",s)},[r,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Ke(){const e=new CustomEvent(Oe);document.dispatchEvent(e)}function xt(e,r,n,{discrete:a}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});r&&s.addEventListener(e,r,{once:!0}),a?Hr(s,i):s.dispatchEvent(i)}var je="focusScope.autoFocusOnMount",Ne="focusScope.autoFocusOnUnmount",Ye={bubbles:!1,cancelable:!0},yn="FocusScope",gt=o.forwardRef((e,r)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...l}=e,[c,m]=o.useState(null),d=ee(s),v=ee(i),f=o.useRef(null),p=U(r,u=>m(u)),h=o.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;o.useEffect(()=>{if(a){let u=function(N){if(h.paused||!c)return;const S=N.target;c.contains(S)?f.current=S:_(f.current,{select:!0})},g=function(N){if(h.paused||!c)return;const S=N.relatedTarget;S!==null&&(c.contains(S)||_(f.current,{select:!0}))},C=function(N){if(document.activeElement===document.body)for(const w of N)w.removedNodes.length>0&&_(c)};document.addEventListener("focusin",u),document.addEventListener("focusout",g);const j=new MutationObserver(C);return c&&j.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",u),document.removeEventListener("focusout",g),j.disconnect()}}},[a,c,h.paused]),o.useEffect(()=>{if(c){Xe.add(h);const u=document.activeElement;if(!c.contains(u)){const C=new CustomEvent(je,Ye);c.addEventListener(je,d),c.dispatchEvent(C),C.defaultPrevented||(bn(Sn(yt(c)),{select:!0}),document.activeElement===u&&_(c))}return()=>{c.removeEventListener(je,d),setTimeout(()=>{const C=new CustomEvent(Ne,Ye);c.addEventListener(Ne,v),c.dispatchEvent(C),C.defaultPrevented||_(u??document.body,{select:!0}),c.removeEventListener(Ne,v),Xe.remove(h)},0)}}},[c,d,v,h]);const y=o.useCallback(u=>{if(!n&&!a||h.paused)return;const g=u.key==="Tab"&&!u.altKey&&!u.ctrlKey&&!u.metaKey,C=document.activeElement;if(g&&C){const j=u.currentTarget,[N,S]=Cn(j);N&&S?!u.shiftKey&&C===S?(u.preventDefault(),n&&_(N,{select:!0})):u.shiftKey&&C===N&&(u.preventDefault(),n&&_(S,{select:!0})):C===j&&u.preventDefault()}},[n,a,h.paused]);return t.jsx(A.div,{tabIndex:-1,...l,ref:p,onKeyDown:y})});gt.displayName=yn;function bn(e,{select:r=!1}={}){const n=document.activeElement;for(const a of e)if(_(a,{select:r}),document.activeElement!==n)return}function Cn(e){const r=yt(e),n=Qe(r,e),a=Qe(r.reverse(),e);return[n,a]}function yt(e){const r=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r}function Qe(e,r){for(const n of e)if(!jn(n,{upTo:r}))return n}function jn(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Nn(e){return e instanceof HTMLInputElement&&"select"in e}function _(e,{select:r=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Nn(e)&&r&&e.select()}}var Xe=wn();function wn(){let e=[];return{add(r){const n=e[0];r!==n&&(n==null||n.pause()),e=qe(e,r),e.unshift(r)},remove(r){var n;e=qe(e,r),(n=e[0])==null||n.resume()}}}function qe(e,r){const n=[...e],a=n.indexOf(r);return a!==-1&&n.splice(a,1),n}function Sn(e){return e.filter(r=>r.tagName!=="A")}var En="Portal",bt=o.forwardRef((e,r)=>{var c;const{container:n,...a}=e,[s,i]=o.useState(!1);q(()=>i(!0),[]);const l=n||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?sr.createPortal(t.jsx(A.div,{...a,ref:r}),l):null});bt.displayName=En;var we=0;function kn(){o.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ze()),document.body.insertAdjacentElement("beforeend",e[1]??Ze()),we++,()=>{we===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),we--}},[])}function Ze(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var M=function(){return M=Object.assign||function(r){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},M.apply(this,arguments)};function Ct(e,r){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n}function Rn(e,r,n){if(n||arguments.length===2)for(var a=0,s=r.length,i;a<s;a++)(i||!(a in r))&&(i||(i=Array.prototype.slice.call(r,0,a)),i[a]=r[a]);return e.concat(i||Array.prototype.slice.call(r))}var ve="right-scroll-bar-position",me="width-before-scroll-bar",zn="with-scroll-bars-hidden",On="--removed-body-scroll-bar-size";function Se(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function Tn(e,r){var n=o.useState(function(){return{value:e,callback:r,facade:{get current(){return n.value},set current(a){var s=n.value;s!==a&&(n.value=a,n.callback(a,s))}}}})[0];return n.callback=r,n.facade}var An=typeof window<"u"?o.useLayoutEffect:o.useEffect,Je=new WeakMap;function Pn(e,r){var n=Tn(null,function(a){return e.forEach(function(s){return Se(s,a)})});return An(function(){var a=Je.get(n);if(a){var s=new Set(a),i=new Set(e),l=n.current;s.forEach(function(c){i.has(c)||Se(c,null)}),i.forEach(function(c){s.has(c)||Se(c,l)})}Je.set(n,e)},[e]),n}function Dn(e){return e}function Mn(e,r){r===void 0&&(r=Dn);var n=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var l=r(i,a);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(i){for(a=!0;n.length;){var l=n;n=[],l.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){a=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(i),l=n}var m=function(){var v=l;l=[],v.forEach(i)},d=function(){return Promise.resolve().then(m)};d(),n={push:function(v){l.push(v),d()},filter:function(v){return l=l.filter(v),n}}}};return s}function In(e){e===void 0&&(e={});var r=Mn(null);return r.options=M({async:!0,ssr:!1},e),r}var jt=function(e){var r=e.sideCar,n=Ct(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=r.read();if(!a)throw new Error("Sidecar medium not found");return o.createElement(a,M({},n))};jt.isSideCarExport=!0;function Ln(e,r){return e.useMedium(r),jt}var Nt=In(),Ee=function(){},xe=o.forwardRef(function(e,r){var n=o.useRef(null),a=o.useState({onScrollCapture:Ee,onWheelCapture:Ee,onTouchMoveCapture:Ee}),s=a[0],i=a[1],l=e.forwardProps,c=e.children,m=e.className,d=e.removeScrollBar,v=e.enabled,f=e.shards,p=e.sideCar,h=e.noRelative,y=e.noIsolation,u=e.inert,g=e.allowPinchZoom,C=e.as,j=C===void 0?"div":C,N=e.gapMode,S=Ct(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=p,b=Pn([n,r]),E=M(M({},S),s);return o.createElement(o.Fragment,null,v&&o.createElement(w,{sideCar:Nt,removeScrollBar:d,shards:f,noRelative:h,noIsolation:y,inert:u,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:N}),l?o.cloneElement(o.Children.only(c),M(M({},E),{ref:b})):o.createElement(j,M({},E,{className:m,ref:b}),c))});xe.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xe.classNames={fullWidth:me,zeroRight:ve};var Fn=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _n(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=Fn();return r&&e.setAttribute("nonce",r),e}function Bn(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function Un(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var Wn=function(){var e=0,r=null;return{add:function(n){e==0&&(r=_n())&&(Bn(r,n),Un(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},$n=function(){var e=Wn();return function(r,n){o.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&n])}},wt=function(){var e=$n(),r=function(n){var a=n.styles,s=n.dynamic;return e(a,s),null};return r},Hn={left:0,top:0,right:0,gap:0},ke=function(e){return parseInt(e||"",10)||0},Vn=function(e){var r=window.getComputedStyle(document.body),n=r[e==="padding"?"paddingLeft":"marginLeft"],a=r[e==="padding"?"paddingTop":"marginTop"],s=r[e==="padding"?"paddingRight":"marginRight"];return[ke(n),ke(a),ke(s)]},Gn=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Hn;var r=Vn(e),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,a-n+r[2]-r[0])}},Kn=wt(),X="data-scroll-locked",Yn=function(e,r,n,a){var s=e.left,i=e.top,l=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(zn,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(c,"px ").concat(a,`;
  }
  body[`).concat(X,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ve,` {
    right: `).concat(c,"px ").concat(a,`;
  }
  
  .`).concat(me,` {
    margin-right: `).concat(c,"px ").concat(a,`;
  }
  
  .`).concat(ve," .").concat(ve,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(me," .").concat(me,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(X,`] {
    `).concat(On,": ").concat(c,`px;
  }
`)},et=function(){var e=parseInt(document.body.getAttribute(X)||"0",10);return isFinite(e)?e:0},Qn=function(){o.useEffect(function(){return document.body.setAttribute(X,(et()+1).toString()),function(){var e=et()-1;e<=0?document.body.removeAttribute(X):document.body.setAttribute(X,e.toString())}},[])},Xn=function(e){var r=e.noRelative,n=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;Qn();var i=o.useMemo(function(){return Gn(s)},[s]);return o.createElement(Kn,{styles:Yn(i,!r,s,n?"":"!important")})},Te=!1;if(typeof window<"u")try{var ie=Object.defineProperty({},"passive",{get:function(){return Te=!0,!0}});window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{Te=!1}var K=Te?{passive:!1}:!1,qn=function(e){return e.tagName==="TEXTAREA"},St=function(e,r){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[r]!=="hidden"&&!(n.overflowY===n.overflowX&&!qn(e)&&n[r]==="visible")},Zn=function(e){return St(e,"overflowY")},Jn=function(e){return St(e,"overflowX")},tt=function(e,r){var n=r.ownerDocument,a=r;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=Et(e,a);if(s){var i=kt(e,a),l=i[1],c=i[2];if(l>c)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},ea=function(e){var r=e.scrollTop,n=e.scrollHeight,a=e.clientHeight;return[r,n,a]},ta=function(e){var r=e.scrollLeft,n=e.scrollWidth,a=e.clientWidth;return[r,n,a]},Et=function(e,r){return e==="v"?Zn(r):Jn(r)},kt=function(e,r){return e==="v"?ea(r):ta(r)},ra=function(e,r){return e==="h"&&r==="rtl"?-1:1},na=function(e,r,n,a,s){var i=ra(e,window.getComputedStyle(r).direction),l=i*a,c=n.target,m=r.contains(c),d=!1,v=l>0,f=0,p=0;do{if(!c)break;var h=kt(e,c),y=h[0],u=h[1],g=h[2],C=u-g-i*y;(y||C)&&Et(e,c)&&(f+=C,p+=y);var j=c.parentNode;c=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!m&&c!==document.body||m&&(r.contains(c)||r===c));return(v&&Math.abs(f)<1||!v&&Math.abs(p)<1)&&(d=!0),d},ce=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},rt=function(e){return[e.deltaX,e.deltaY]},nt=function(e){return e&&"current"in e?e.current:e},aa=function(e,r){return e[0]===r[0]&&e[1]===r[1]},sa=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},oa=0,Y=[];function ia(e){var r=o.useRef([]),n=o.useRef([0,0]),a=o.useRef(),s=o.useState(oa++)[0],i=o.useState(wt)[0],l=o.useRef(e);o.useEffect(function(){l.current=e},[e]),o.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var u=Rn([e.lockRef.current],(e.shards||[]).map(nt),!0).filter(Boolean);return u.forEach(function(g){return g.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),u.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var c=o.useCallback(function(u,g){if("touches"in u&&u.touches.length===2||u.type==="wheel"&&u.ctrlKey)return!l.current.allowPinchZoom;var C=ce(u),j=n.current,N="deltaX"in u?u.deltaX:j[0]-C[0],S="deltaY"in u?u.deltaY:j[1]-C[1],w,b=u.target,E=Math.abs(N)>Math.abs(S)?"h":"v";if("touches"in u&&E==="h"&&b.type==="range")return!1;var k=tt(E,b);if(!k)return!0;if(k?w=E:(w=E==="v"?"h":"v",k=tt(E,b)),!k)return!1;if(!a.current&&"changedTouches"in u&&(N||S)&&(a.current=w),!w)return!0;var T=a.current||w;return na(T,g,u,T==="h"?N:S)},[]),m=o.useCallback(function(u){var g=u;if(!(!Y.length||Y[Y.length-1]!==i)){var C="deltaY"in g?rt(g):ce(g),j=r.current.filter(function(w){return w.name===g.type&&(w.target===g.target||g.target===w.shadowParent)&&aa(w.delta,C)})[0];if(j&&j.should){g.cancelable&&g.preventDefault();return}if(!j){var N=(l.current.shards||[]).map(nt).filter(Boolean).filter(function(w){return w.contains(g.target)}),S=N.length>0?c(g,N[0]):!l.current.noIsolation;S&&g.cancelable&&g.preventDefault()}}},[]),d=o.useCallback(function(u,g,C,j){var N={name:u,delta:g,target:C,should:j,shadowParent:ca(C)};r.current.push(N),setTimeout(function(){r.current=r.current.filter(function(S){return S!==N})},1)},[]),v=o.useCallback(function(u){n.current=ce(u),a.current=void 0},[]),f=o.useCallback(function(u){d(u.type,rt(u),u.target,c(u,e.lockRef.current))},[]),p=o.useCallback(function(u){d(u.type,ce(u),u.target,c(u,e.lockRef.current))},[]);o.useEffect(function(){return Y.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",m,K),document.addEventListener("touchmove",m,K),document.addEventListener("touchstart",v,K),function(){Y=Y.filter(function(u){return u!==i}),document.removeEventListener("wheel",m,K),document.removeEventListener("touchmove",m,K),document.removeEventListener("touchstart",v,K)}},[]);var h=e.removeScrollBar,y=e.inert;return o.createElement(o.Fragment,null,y?o.createElement(i,{styles:sa(s)}):null,h?o.createElement(Xn,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function ca(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const la=Ln(Nt,ia);var Rt=o.forwardRef(function(e,r){return o.createElement(xe,M({},e,{ref:r,sideCar:la}))});Rt.classNames=xe.classNames;var da=function(e){if(typeof document>"u")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},Q=new WeakMap,le=new WeakMap,de={},Re=0,zt=function(e){return e&&(e.host||zt(e.parentNode))},ua=function(e,r){return r.map(function(n){if(e.contains(n))return n;var a=zt(n);return a&&e.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},fa=function(e,r,n,a){var s=ua(r,Array.isArray(e)?e:[e]);de[n]||(de[n]=new WeakMap);var i=de[n],l=[],c=new Set,m=new Set(s),d=function(f){!f||c.has(f)||(c.add(f),d(f.parentNode))};s.forEach(d);var v=function(f){!f||m.has(f)||Array.prototype.forEach.call(f.children,function(p){if(c.has(p))v(p);else try{var h=p.getAttribute(a),y=h!==null&&h!=="false",u=(Q.get(p)||0)+1,g=(i.get(p)||0)+1;Q.set(p,u),i.set(p,g),l.push(p),u===1&&y&&le.set(p,!0),g===1&&p.setAttribute(n,"true"),y||p.setAttribute(a,"true")}catch(C){console.error("aria-hidden: cannot operate on ",p,C)}})};return v(r),c.clear(),Re++,function(){l.forEach(function(f){var p=Q.get(f)-1,h=i.get(f)-1;Q.set(f,p),i.set(f,h),p||(le.has(f)||f.removeAttribute(a),le.delete(f)),h||f.removeAttribute(n)}),Re--,Re||(Q=new WeakMap,Q=new WeakMap,le=new WeakMap,de={})}},va=function(e,r,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=da(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live], script"))),fa(a,s,n,"aria-hidden")):function(){return null}},ge="Dialog",[Ot]=ct(ge),[ma,P]=Ot(ge),Tt=e=>{const{__scopeDialog:r,children:n,open:a,defaultOpen:s,onOpenChange:i,modal:l=!0}=e,c=o.useRef(null),m=o.useRef(null),[d,v]=lt({prop:a,defaultProp:s??!1,onChange:i,caller:ge});return t.jsx(ma,{scope:r,triggerRef:c,contentRef:m,contentId:fe(),titleId:fe(),descriptionId:fe(),open:d,onOpenChange:v,onOpenToggle:o.useCallback(()=>v(f=>!f),[v]),modal:l,children:n})};Tt.displayName=ge;var At="DialogTrigger",pa=o.forwardRef((e,r)=>{const{__scopeDialog:n,...a}=e,s=P(At,n),i=U(r,s.triggerRef);return t.jsx(A.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Le(s.open),...a,ref:i,onClick:L(e.onClick,s.onOpenToggle)})});pa.displayName=At;var Me="DialogPortal",[ha,Pt]=Ot(Me,{forceMount:void 0}),Dt=e=>{const{__scopeDialog:r,forceMount:n,children:a,container:s}=e,i=P(Me,r);return t.jsx(ha,{scope:r,forceMount:n,children:o.Children.map(a,l=>t.jsx(te,{present:n||i.open,children:t.jsx(bt,{asChild:!0,container:s,children:l})}))})};Dt.displayName=Me;var pe="DialogOverlay",Mt=o.forwardRef((e,r)=>{const n=Pt(pe,e.__scopeDialog),{forceMount:a=n.forceMount,...s}=e,i=P(pe,e.__scopeDialog);return i.modal?t.jsx(te,{present:a||i.open,children:t.jsx(ga,{...s,ref:r})}):null});Mt.displayName=pe;var xa=ot("DialogOverlay.RemoveScroll"),ga=o.forwardRef((e,r)=>{const{__scopeDialog:n,...a}=e,s=P(pe,n);return t.jsx(Rt,{as:xa,allowPinchZoom:!0,shards:[s.contentRef],children:t.jsx(A.div,{"data-state":Le(s.open),...a,ref:r,style:{pointerEvents:"auto",...a.style}})})}),G="DialogContent",It=o.forwardRef((e,r)=>{const n=Pt(G,e.__scopeDialog),{forceMount:a=n.forceMount,...s}=e,i=P(G,e.__scopeDialog);return t.jsx(te,{present:a||i.open,children:i.modal?t.jsx(ya,{...s,ref:r}):t.jsx(ba,{...s,ref:r})})});It.displayName=G;var ya=o.forwardRef((e,r)=>{const n=P(G,e.__scopeDialog),a=o.useRef(null),s=U(r,n.contentRef,a);return o.useEffect(()=>{const i=a.current;if(i)return va(i)},[]),t.jsx(Lt,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:L(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:L(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&i.preventDefault()}),onFocusOutside:L(e.onFocusOutside,i=>i.preventDefault())})}),ba=o.forwardRef((e,r)=>{const n=P(G,e.__scopeDialog),a=o.useRef(!1),s=o.useRef(!1);return t.jsx(Lt,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,c;(l=e.onCloseAutoFocus)==null||l.call(e,i),i.defaultPrevented||(a.current||(c=n.triggerRef.current)==null||c.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{var m,d;(m=e.onInteractOutside)==null||m.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Lt=o.forwardRef((e,r)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,...l}=e,c=P(G,n),m=o.useRef(null),d=U(r,m);return kn(),t.jsxs(t.Fragment,{children:[t.jsx(gt,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:t.jsx(ht,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Le(c.open),...l,ref:d,onDismiss:()=>c.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(Ca,{titleId:c.titleId}),t.jsx(Na,{contentRef:m,descriptionId:c.descriptionId})]})]})}),Ie="DialogTitle",Ft=o.forwardRef((e,r)=>{const{__scopeDialog:n,...a}=e,s=P(Ie,n);return t.jsx(A.h2,{id:s.titleId,...a,ref:r})});Ft.displayName=Ie;var _t="DialogDescription",Bt=o.forwardRef((e,r)=>{const{__scopeDialog:n,...a}=e,s=P(_t,n);return t.jsx(A.p,{id:s.descriptionId,...a,ref:r})});Bt.displayName=_t;var Ut="DialogClose",Wt=o.forwardRef((e,r)=>{const{__scopeDialog:n,...a}=e,s=P(Ut,n);return t.jsx(A.button,{type:"button",...a,ref:r,onClick:L(e.onClick,()=>s.onOpenChange(!1))})});Wt.displayName=Ut;function Le(e){return e?"open":"closed"}var $t="DialogTitleWarning",[Fa,Ht]=Fr($t,{contentName:G,titleName:Ie,docsSlug:"dialog"}),Ca=({titleId:e})=>{const r=Ht($t),n=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return o.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},ja="DialogDescriptionWarning",Na=({contentRef:e,descriptionId:r})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ht(ja).contentName}}.`;return o.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");r&&s&&(document.getElementById(r)||console.warn(a))},[a,e,r]),null},wa=Tt,Sa=Dt,Vt=Mt,Gt=It,Kt=Ft,Yt=Bt,Ea=Wt;const ka=wa,Ra=Sa,Qt=o.forwardRef(({className:e,...r},n)=>t.jsx(Vt,{ref:n,className:Z("fixed inset-0 z-[var(--z-modal-backdrop)] bg-black/60 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r}));Qt.displayName=Vt.displayName;const Xt=o.forwardRef(({className:e,children:r,size:n="md",showClose:a=!0,...s},i)=>{const l={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-2xl",full:"max-w-[95vw] h-[95vh]"};return t.jsxs(Ra,{children:[t.jsx(Qt,{}),t.jsxs(Gt,{ref:i,className:Z("fixed left-[50%] top-[50%] z-[var(--z-modal)] grid w-full translate-x-[-50%] translate-y-[-50%] gap-4 border border-[var(--border-default)] bg-[var(--surface-bg)] p-6 shadow-[var(--shadow-xl)] duration-[var(--motion-duration)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-[var(--radius-lg)]",l[n],e),...s,children:[r,a&&t.jsxs(Ea,{className:"absolute right-4 top-4 rounded-[var(--radius-sm)] opacity-70 ring-offset-[var(--surface-bg)] transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-[var(--focus-color)] focus:ring-offset-2 disabled:pointer-events-none",children:[t.jsx(br,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]})});Xt.displayName=Gt.displayName;const qt=({className:e,...r})=>t.jsx("div",{className:Z("flex flex-col space-y-1.5 text-center sm:text-left",e),...r});qt.displayName="DialogHeader";const Zt=({className:e,...r})=>t.jsx("div",{className:Z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});Zt.displayName="DialogFooter";const Jt=o.forwardRef(({className:e,...r},n)=>t.jsx(Kt,{ref:n,className:Z("text-[var(--font-size-xl)] font-semibold leading-none tracking-tight text-[var(--text-primary)]",e),...r}));Jt.displayName=Kt.displayName;const er=o.forwardRef(({className:e,...r},n)=>t.jsx(Yt,{ref:n,className:Z("text-[var(--font-size-sm)] text-[var(--text-secondary)]",e),...r}));er.displayName=Yt.displayName;function za({targetActivities:e=5,onTargetReached:r}){const[n,a]=o.useState([]),[s,i]=o.useState(null),[l,c]=o.useState([]),[m,d]=o.useState(""),[v,f]=o.useState("idle"),[p,h]=o.useState(null),[y,u]=o.useState([]),[g,C]=o.useState(!1),[j,N]=o.useState(!1),[S,w]=o.useState(!1),[b,E]=o.useState(null),[k,T]=o.useState(1),[D,W]=o.useState(null),re=V(x=>x.addActivity),$=V(x=>x.removeActivity),Fe=V(x=>x.profile.activities),O=Fe.length,tr=Math.min(O/e,1);o.useEffect(()=>{f("factors"),Cr().then(x=>{u(x),C(!0),f("idle")}).catch(x=>{console.error("Failed to load emission factors:",x),C(!0),f("idle")})},[]),o.useEffect(()=>{f("sectors"),jr().then(x=>{a(x),f("idle"),x.length>0&&i(x[0].id)}).catch(x=>{h(`Failed to load sectors: ${x.message}`),f("idle")})},[]),o.useEffect(()=>{s&&(f("activities"),c([]),Nr(s).then(x=>{c(x),f("idle")}).catch(x=>{h(`Failed to load activities: ${x.message}`),f("idle")}))},[s]),o.useEffect(()=>{O>=e&&(N(!0),r&&r())},[O,e,r]);const J=x=>{const R=y.find(F=>F.activityId===x.id&&F.sectorId===x.sectorId);if(R&&R.valueGPerUnit!=null)return{carbonIntensity:R.valueGPerUnit/1e3};const z=y.find(F=>F.sectorId===x.sectorId);return z&&z.valueGPerUnit!=null?{carbonIntensity:z.valueGPerUnit/1e3,warning:"Using sector average (activity-specific factor not available)"}:{carbonIntensity:.5,warning:"Using default estimate (emission factor not available)"}},_e=x=>Fe.some(R=>R.id===x),rr=x=>{_e(x.id)?$(x.id):(E(x),T(1),W(null),w(!0))},nr=()=>{if(!b)return;if(k<=0){W("Quantity must be greater than 0");return}if(k<.1){W("Quantity must be at least 0.1");return}const{carbonIntensity:x,warning:R}=J(b);R&&console.warn(`Activity ${b.id}: ${R}`),re({id:b.id,sectorId:b.sectorId,name:b.name||b.id,category:b.category,quantity:k,unit:b.defaultUnit||"unit",carbonIntensity:x,annualEmissions:x*k,iconType:b.iconType??void 0,iconUrl:b.iconUrl??void 0,badgeColor:b.badgeColor??void 0}),w(!1),E(null)},Be=o.useMemo(()=>{if(!m)return l;const x=m.toLowerCase();return l.filter(R=>{var z,F,ne;return((z=R.name)==null?void 0:z.toLowerCase().includes(x))||((F=R.description)==null?void 0:F.toLowerCase().includes(x))||((ne=R.category)==null?void 0:ne.toLowerCase().includes(x))})},[l,m]);return p?t.jsxs("div",{className:"p-[var(--space-8)] rounded-[var(--radius-lg)] text-center",style:{backgroundColor:"var(--surface-elevated)",border:"1px solid var(--border-default)"},children:[t.jsx("p",{style:{color:"var(--text-primary)",fontSize:"var(--font-size-base)"},children:p}),t.jsx(B,{variant:"secondary",size:"md",onClick:()=>window.location.reload(),className:"mt-[var(--space-4)]",children:"Reload"})]}):t.jsxs("div",{className:"w-full max-w-7xl mx-auto space-y-[var(--space-6)]",children:[t.jsxs("div",{className:"p-[var(--space-4)] rounded-[var(--radius-lg)]",style:{backgroundColor:"var(--surface-elevated)",border:"1px solid var(--border-default)"},children:[t.jsxs("div",{className:"flex items-center justify-between mb-[var(--space-2)]",children:[t.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Activities added"}),t.jsxs("span",{className:"font-bold",style:{fontSize:"var(--font-size-lg)",color:"var(--text-primary)"},children:[O," / ",e]})]}),t.jsx("div",{className:"h-2 rounded-full overflow-hidden",style:{backgroundColor:"var(--surface-bg)"},children:t.jsx(ye.div,{initial:{width:0},animate:{width:`${tr*100}%`},transition:{duration:.4,ease:"easeOut"},className:"h-full rounded-full",style:{backgroundColor:"var(--color-goal)"}})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[280px_1fr] gap-[var(--space-6)]",children:[t.jsx("div",{className:"lg:space-y-[var(--space-2)]",children:t.jsx("div",{className:"flex lg:flex-col gap-[var(--space-2)] overflow-x-auto lg:overflow-x-visible pb-[var(--space-2)] lg:pb-0",children:v==="sectors"?t.jsxs("div",{className:"flex items-center gap-2 p-[var(--space-3)]",style:{color:"var(--text-secondary)"},children:[t.jsx($e,{className:"w-4 h-4 animate-spin"}),t.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Loading sectors..."})]}):n.map(x=>t.jsx("button",{onClick:()=>i(x.id),className:"px-[var(--space-4)] py-[var(--space-3)] rounded-[var(--radius-md)] whitespace-nowrap lg:whitespace-normal lg:text-left transition-all",style:{backgroundColor:s===x.id?"var(--color-baseline)":"var(--surface-elevated)",color:s===x.id?"white":"var(--text-primary)",border:`1px solid ${s===x.id?"var(--color-baseline)":"var(--border-default)"}`,fontSize:"var(--font-size-sm)"},children:x.name},x.id))})}),t.jsxs("div",{className:"space-y-[var(--space-4)]",children:[t.jsxs("div",{className:"relative z-10",children:[t.jsx(Dr,{className:"absolute top-1/2 -translate-y-1/2 w-5 h-5 pointer-events-none",style:{color:"var(--text-tertiary)",left:"12px"}}),t.jsx("input",{type:"text",placeholder:"Search activities...",value:m,onChange:x=>d(x.target.value),className:"w-full rounded-[var(--radius-md)] border transition-all",style:{backgroundColor:"var(--surface-elevated)",borderColor:"var(--border-default)",color:"var(--text-primary)",fontSize:"var(--font-size-base)",paddingLeft:"48px",paddingRight:"var(--space-4)",paddingTop:"var(--space-3)",paddingBottom:"var(--space-3)"}})]}),t.jsx("div",{className:"space-y-[var(--space-2)] relative",children:v==="activities"?t.jsx("div",{className:"flex items-center justify-center p-[var(--space-8)]",children:t.jsx($e,{className:"w-8 h-8 animate-spin",style:{color:"var(--text-tertiary)"}})}):Be.length===0?t.jsx("div",{className:"p-[var(--space-8)] text-center rounded-[var(--radius-lg)]",style:{backgroundColor:"var(--surface-elevated)",color:"var(--text-secondary)",fontSize:"var(--font-size-base)"},children:m?"No activities match your search":"No activities available"}):t.jsx(Rr,{mode:"popLayout",children:Be.map((x,R)=>{const z=_e(x.id),ne=!!J(x).warning;return t.jsxs(ye.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{delay:R*.03,duration:.2},whileHover:{scale:1.005},whileTap:{scale:.995},className:"group relative p-[var(--space-4)] rounded-[var(--radius-lg)] border-2 cursor-pointer transition-all isolate",style:{backgroundColor:z?"var(--color-baseline-bg)":"var(--surface-elevated)",borderColor:z?"var(--color-baseline)":"var(--border-default)"},onClick:()=>rr(x),children:[ne&&!z&&t.jsxs("div",{className:"absolute top-2 right-2 px-[var(--space-2)] py-[var(--space-1)] rounded-full flex items-center gap-[var(--space-1)]",style:{backgroundColor:"rgba(255, 171, 0, 0.15)",border:"1px solid rgba(255, 171, 0, 0.4)"},children:[t.jsx(be,{className:"w-3 h-3",style:{color:"#FFab00"}}),t.jsx("span",{style:{fontSize:"var(--font-size-xs)",fontWeight:500,color:"#FFab00"},children:"Estimated"})]}),t.jsxs("div",{className:"flex items-center gap-[var(--space-4)]",children:[t.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all",style:{borderColor:z?"var(--color-baseline)":"var(--border-default)",backgroundColor:z?"var(--color-baseline)":"transparent"},children:z?t.jsx(We,{className:"w-4 h-4",style:{color:"white"}}):t.jsx(mr,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity",style:{color:"var(--text-tertiary)"}})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"font-semibold truncate",style:{fontSize:"var(--font-size-base)",color:"var(--text-primary)"},children:x.name||x.id}),x.description&&t.jsx("p",{className:"truncate",style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:x.description}),x.category&&t.jsx("span",{className:"inline-block mt-[var(--space-1)] px-[var(--space-2)] py-[var(--space-1)] rounded-full",style:{backgroundColor:"var(--surface-bg)",color:"var(--text-tertiary)",fontSize:"var(--font-size-xs)"},children:x.category})]}),t.jsxs("div",{className:"flex-shrink-0 text-right",children:[t.jsx(ue,{className:"w-5 h-5 mx-auto",style:{color:z?"var(--carbon-moderate)":"var(--text-tertiary)"}}),t.jsxs("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-tertiary)"},children:["per ",x.defaultUnit||"unit"]})]})]})]},x.id)})})})]})]}),O>0&&t.jsx(ye.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-[var(--space-4)] rounded-[var(--radius-lg)]",style:{backgroundColor:"var(--color-goal-bg)",border:"1px solid var(--border-subtle)"},children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium",style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:[O," ",O===1?"activity":"activities"," added"]}),t.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:O>=e?"You've reached the target! Continue to establish your baseline.":j&&O<e?`Add ${e-O} more to continue (you had ${e} before)`:`Add ${e-O} more to continue`})]}),(O>=e||j)&&t.jsx(B,{variant:"primary",size:"md",onClick:r,icon:t.jsx(We,{className:"w-5 h-5"}),disabled:O<e,children:"Continue"})]})}),t.jsx(ka,{open:S,onOpenChange:w,children:t.jsxs(Xt,{size:"md",children:[t.jsxs(qt,{children:[t.jsx(Jt,{children:"Add Activity"}),t.jsx(er,{children:"Specify how much of this activity you perform annually"})]}),t.jsxs("div",{className:"space-y-[var(--space-4)]",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",style:{fontSize:"var(--font-size-base)",color:"var(--text-primary)"},children:(b==null?void 0:b.name)||(b==null?void 0:b.id)}),(b==null?void 0:b.description)&&t.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)",marginTop:"var(--space-1)"},children:b.description})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"quantity-input",className:"block mb-[var(--space-2)]",style:{fontSize:"var(--font-size-sm)",fontWeight:500,color:"var(--text-primary)"},children:"Quantity per year"}),t.jsxs("div",{className:"flex gap-[var(--space-2)] items-start",children:[t.jsx("input",{id:"quantity-input",type:"number",min:"0.1",step:"0.1",value:k,onChange:x=>{T(parseFloat(x.target.value)||0),W(null)},className:"flex-1 px-[var(--space-3)] py-[var(--space-2)] rounded-[var(--radius-md)] border",style:{backgroundColor:"var(--surface-elevated)",borderColor:D?"var(--carbon-high)":"var(--border-default)",color:"var(--text-primary)",fontSize:"var(--font-size-base)"},autoFocus:!0}),t.jsx("span",{className:"px-[var(--space-3)] py-[var(--space-2)] rounded-[var(--radius-md)]",style:{backgroundColor:"var(--surface-bg)",color:"var(--text-secondary)",fontSize:"var(--font-size-base)"},children:(b==null?void 0:b.defaultUnit)||"unit"})]}),D&&t.jsxs("div",{className:"flex items-center gap-[var(--space-1)] mt-[var(--space-2)]",children:[t.jsx(be,{className:"w-4 h-4",style:{color:"var(--carbon-high)"}}),t.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--carbon-high)"},children:D})]})]}),b&&g&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"p-[var(--space-3)] rounded-[var(--radius-md)]",style:{backgroundColor:"var(--carbon-neutral-bg)",border:"1px solid var(--border-subtle)"},children:[t.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-secondary)",marginBottom:"var(--space-1)"},children:"Estimated annual emissions"}),t.jsxs("p",{className:"font-bold",style:{fontSize:"var(--font-size-lg)",color:"var(--text-primary)"},children:[(J(b).carbonIntensity*k).toFixed(2)," kg CO₂"]})]}),J(b).warning&&t.jsx("div",{className:"p-[var(--space-3)] rounded-[var(--radius-md)]",style:{backgroundColor:"rgba(255, 171, 0, 0.1)",border:"1px solid rgba(255, 171, 0, 0.3)"},children:t.jsxs("div",{className:"flex items-start gap-[var(--space-2)]",children:[t.jsx(be,{className:"w-5 h-5 flex-shrink-0 mt-0.5",style:{color:"#FFab00"}}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-semibold mb-1",style:{fontSize:"var(--font-size-sm)",color:"#CC8A00"},children:"Data Quality Notice"}),t.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"#CC8A00",lineHeight:1.4},children:J(b).warning}),t.jsx("p",{className:"mt-2",style:{fontSize:"var(--font-size-xs)",color:"#CC8A00",lineHeight:1.4},children:"This estimate may be less accurate than activity-specific data. Consider this when making reduction decisions."})]})]})})]})]}),t.jsxs(Zt,{children:[t.jsx(B,{variant:"secondary",size:"md",onClick:()=>w(!1),children:"Cancel"}),t.jsx(B,{variant:"primary",size:"md",onClick:nr,children:"Add Activity"})]})]})})]})}function _a(){var j;const e=ur(),n=((j=fr().state)==null?void 0:j.mode)||"calculator",[a,s]=o.useState(n==="calculator"?"calculating":"entering"),[i,l]=o.useState(null),c=V(N=>N.saveCalculatorResults),m=V(N=>N.getTotalEmissions),d=V(N=>N.profile.activities),v=m(),f=d.length,p=N=>{l(N),c([{category:"commute",label:"Daily commute",annualEmissions:N.breakdown.commute},{category:"diet",label:"Diet",annualEmissions:N.breakdown.diet},{category:"energy",label:"Home energy",annualEmissions:N.breakdown.energy},{category:"shopping",label:"Shopping",annualEmissions:N.breakdown.shopping}]),s("celebrating")},h=()=>{f>=5&&s("celebrating")};o.useEffect(()=>{a==="entering"&&f>=5&&h()},[f,a]);const[y,u]=o.useState(!1),g=()=>{e("/explore")},C=()=>{u(!0)};return t.jsxs("div",{className:"min-h-screen bg-[var(--surface-bg)]",children:[(a==="calculating"||a==="entering")&&t.jsx(pr,{minimal:!0}),t.jsx("div",{className:"p-[var(--space-4)]",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[a==="calculating"&&t.jsx(sn,{onComplete:p,onCancel:()=>e("/welcome")}),a==="entering"&&t.jsxs("div",{children:[t.jsx("h1",{className:"font-bold mb-[var(--space-6)]",style:{fontSize:"var(--font-size-3xl)",color:"var(--text-primary)"},children:"Build Your Baseline"}),t.jsx(za,{targetActivities:5,onTargetReached:h})]}),a==="celebrating"&&t.jsx(Oa,{mode:n,totalEmissions:v,calculatorResults:i,activityCount:f,show3D:y,onReveal3D:C,onComplete:g})]})})]})}function Oa({mode:e,totalEmissions:r,calculatorResults:n,activityCount:a,show3D:s,onReveal3D:i,onComplete:l}){const c=n?n.total:r,m=(c||0)/1e3,d=4.5,v=(m>0?m/d*100:0).toFixed(0),f=V(y=>y.activities),p=n?n.breakdown:null,h=o.useMemo(()=>e==="calculator"&&p?[{id:"commute",name:"Daily Commute",annualEmissions:p.commute,category:"Transport"},{id:"diet",name:"Diet",annualEmissions:p.diet,category:"Food"},{id:"energy",name:"Home Energy",annualEmissions:p.energy,category:"Energy"},{id:"shopping",name:"Shopping",annualEmissions:p.shopping,category:"Consumption"}].filter(y=>y.annualEmissions>.01):f.map(y=>({id:y.id,name:y.name,annualEmissions:y.annualEmissions,category:y.category??void 0})).filter(y=>y.annualEmissions>.01),[e,p,f]);return t.jsx("div",{className:"max-w-7xl mx-auto space-y-[var(--space-8)]",children:s?t.jsxs("div",{className:"space-y-[var(--space-6)]",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"font-bold mb-[var(--space-2)]",style:{fontSize:"var(--font-size-3xl)",color:"var(--text-primary)"},children:"Your Carbon Universe"}),t.jsx("p",{style:{fontSize:"var(--font-size-base)",color:"var(--text-secondary)"},children:"Each sphere represents an activity. Larger = higher emissions. Explore your data in 3D!"})]}),t.jsx("div",{className:"rounded-[var(--radius-lg)] overflow-hidden",style:{backgroundColor:"var(--surface-elevated)",border:"1px solid var(--border-default)",height:"600px"},children:h.length===0?t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsxs("div",{className:"text-center max-w-md px-8",children:[t.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--carbon-low-bg)"},children:t.jsx("span",{style:{fontSize:"48px"},children:"🎉"})}),t.jsx("h3",{className:"font-bold mb-4",style:{fontSize:"var(--font-size-2xl)",color:"var(--text-primary)"},children:"Amazing! Nearly Zero Footprint"}),t.jsx("p",{className:"mb-6",style:{fontSize:"var(--font-size-base)",color:"var(--text-secondary)"},children:"Your carbon footprint is incredibly low! This is excellent for the environment. Keep up the great work!"}),t.jsx("div",{className:"p-4 rounded-lg mb-6",style:{backgroundColor:"var(--carbon-low-bg)",border:"1px solid var(--carbon-low)"},children:t.jsxs("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:[t.jsxs("strong",{children:[(c/1e3).toFixed(2),"t CO₂/year"]})," is well below the global average of 4.5t!"]})}),t.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-tertiary)"},children:e==="manual"&&a>0?`You have ${a} ${a===1?"activity":"activities"} with very low emissions.`:"Continue to exploration to see more details."})]})}):t.jsx(xr,{totalEmissions:c,activities:h,onActivityClick:y=>{console.log("Selected activity:",y)},enableIntroAnimation:!0,enableClickToFly:!0})}),t.jsx("div",{className:"flex justify-center",children:t.jsx(B,{variant:"primary",size:"lg",onClick:l,icon:t.jsx(it,{className:"w-5 h-5"}),children:"Continue to Full Exploration"})})]}):t.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-[var(--space-8)]",children:[t.jsx("div",{className:"mx-auto w-32 h-32 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--carbon-low-bg)"},children:t.jsx(gr,{className:"w-16 h-16",style:{color:"var(--carbon-low)"}})}),t.jsxs("div",{className:"space-y-[var(--space-4)]",children:[t.jsx("h2",{className:"font-bold",style:{fontSize:"var(--font-size-4xl)",color:"var(--text-primary)"},children:"Baseline Established!"}),t.jsx("p",{className:"max-w-2xl mx-auto",style:{fontSize:"var(--font-size-lg)",color:"var(--text-secondary)"},children:e==="calculator"?"You've completed the quick calculator. Here's your carbon footprint estimate:":"Great work! You've established your baseline with real activity data."})]}),t.jsxs("div",{className:"p-[var(--space-8)] rounded-[var(--radius-xl)]",style:{background:"linear-gradient(135deg, var(--color-baseline-bg) 0%, var(--color-goal-bg) 100%)",border:"2px solid var(--border-default)"},children:[t.jsxs("div",{className:"mb-[var(--space-6)]",children:[t.jsx("div",{className:"mb-[var(--space-2)]",style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:e==="calculator"?"Estimated Annual Emissions":"Your Baseline"}),t.jsxs("div",{className:"flex items-baseline justify-center gap-[var(--space-2)]",children:[t.jsx("span",{className:"font-bold",style:{fontSize:"var(--font-size-5xl)",color:"var(--text-primary)"},children:m.toFixed(1)}),t.jsx("span",{style:{fontSize:"var(--font-size-2xl)",color:"var(--text-secondary)"},children:"tonnes CO₂/year"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-[var(--space-4)]",children:[t.jsxs("div",{className:"p-[var(--space-4)] rounded-[var(--radius-lg)]",style:{backgroundColor:"var(--surface-elevated)"},children:[t.jsx("div",{className:"mb-[var(--space-1)]",style:{fontSize:"var(--font-size-xs)",color:"var(--text-tertiary)"},children:"Global Average"}),t.jsxs("div",{className:"font-bold",style:{fontSize:"var(--font-size-2xl)",color:"var(--text-primary)"},children:[d,"t"]})]}),t.jsxs("div",{className:"p-[var(--space-4)] rounded-[var(--radius-lg)]",style:{backgroundColor:"var(--surface-elevated)"},children:[t.jsx("div",{className:"mb-[var(--space-1)]",style:{fontSize:"var(--font-size-xs)",color:"var(--text-tertiary)"},children:"vs Global Average"}),t.jsxs("div",{className:"font-bold",style:{fontSize:"var(--font-size-2xl)",color:m>d?"var(--carbon-high)":"var(--carbon-low)"},children:[v,"%"]})]})]})]}),n&&t.jsxs("div",{className:"p-[var(--space-6)] rounded-[var(--radius-lg)] text-left",style:{backgroundColor:"var(--surface-elevated)",border:"1px solid var(--border-default)"},children:[t.jsx("h3",{className:"font-semibold mb-[var(--space-4)]",style:{fontSize:"var(--font-size-lg)",color:"var(--text-primary)"},children:"To put this in perspective:"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-[var(--space-4)] text-center",children:[t.jsx(ze,{value:n.comparisons.flights.toFixed(1),label:"round trip flights",sublabel:"NYC → LA"}),t.jsx(ze,{value:Math.ceil(n.comparisons.trees).toString(),label:"trees needed",sublabel:"to offset/year"}),t.jsx(ze,{value:Math.floor(n.comparisons.meals).toString(),label:"plant-based meals",sublabel:"vs meat equivalent"})]})]}),t.jsxs("div",{className:"p-[var(--space-6)] rounded-[var(--radius-lg)] text-left",style:{backgroundColor:"var(--color-insight-bg)",border:"1px solid var(--border-subtle)"},children:[t.jsx("h3",{className:"font-semibold mb-[var(--space-3)]",style:{fontSize:"var(--font-size-base)",color:"var(--text-primary)"},children:"What's next:"}),t.jsxs("ul",{className:"space-y-[var(--space-2)]",style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:[t.jsxs("li",{className:"flex items-start gap-[var(--space-2)]",children:[t.jsx(ue,{className:"w-4 h-4 flex-shrink-0 mt-0.5",style:{color:"var(--carbon-low)"}}),t.jsx("span",{children:"Explore your emissions breakdown by activity and sector"})]}),t.jsxs("li",{className:"flex items-start gap-[var(--space-2)]",children:[t.jsx(ue,{className:"w-4 h-4 flex-shrink-0 mt-0.5",style:{color:"var(--carbon-low)"}}),t.jsx("span",{children:"Track progress over time and identify reduction opportunities"})]}),t.jsxs("li",{className:"flex items-start gap-[var(--space-2)]",children:[t.jsx(ue,{className:"w-4 h-4 flex-shrink-0 mt-0.5",style:{color:"var(--carbon-low)"}}),t.jsx("span",{children:'Model "what-if" scenarios and set carbon reduction goals'})]})]})]}),t.jsxs("div",{className:"pt-[var(--space-4)] flex flex-col items-center gap-[var(--space-3)]",children:[t.jsx(B,{variant:"primary",size:"lg",onClick:i,icon:t.jsx(hr,{className:"w-5 h-5"}),children:"See in 3D Universe"}),t.jsx("button",{onClick:l,className:"text-[var(--font-size-sm)] underline hover:no-underline",style:{color:"var(--text-tertiary)"},children:"Skip to exploration →"})]})]})})}function ze({value:e,label:r,sublabel:n}){return t.jsxs("div",{className:"space-y-[var(--space-1)]",children:[t.jsx("div",{className:"font-bold",style:{fontSize:"var(--font-size-3xl)",color:"var(--text-primary)"},children:e}),t.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:r}),t.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-tertiary)"},children:n})]})}export{_a as default};
