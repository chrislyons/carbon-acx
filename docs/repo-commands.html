<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carbon ACX - Command Reference</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #1a1a1a;
            color: #e0e0e0;
            padding: 2rem;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            font-size: 2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #fff;
        }

        .subtitle {
            color: #888;
            margin-bottom: 2rem;
            font-size: 0.9rem;
        }

        .last-updated {
            color: #666;
            font-size: 0.85rem;
            margin-bottom: 2rem;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: #242424;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }

        thead {
            background: #2a2a2a;
        }

        th {
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            color: #fff;
            border-bottom: 2px solid #333;
        }

        th:nth-child(1) { width: 20%; }
        th:nth-child(2) { width: 35%; }
        th:nth-child(3) { width: 45%; }

        td {
            padding: 1rem;
            border-bottom: 1px solid #2a2a2a;
        }

        tr:last-child td {
            border-bottom: none;
        }

        tr:hover {
            background: #2a2a2a;
        }

        .command {
            font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Courier New', monospace;
            background: #1a1a1a;
            padding: 0.5rem 0.75rem;
            border-radius: 4px;
            font-size: 0.9rem;
            color: #4fc3f7;
            cursor: pointer;
            display: inline-block;
            transition: background 0.2s;
            position: relative;
        }

        .command:hover {
            background: #222;
        }

        .command:active {
            background: #2a4858;
        }

        .command::after {
            content: 'üìã';
            margin-left: 0.5rem;
            opacity: 0.5;
        }

        .copied {
            animation: flash 0.3s;
        }

        @keyframes flash {
            0%, 100% { background: #1a1a1a; }
            50% { background: #2a5a3a; }
        }

        .description {
            color: #b0b0b0;
            font-size: 0.9rem;
        }

        .job {
            color: #fff;
            font-weight: 500;
        }

        .section-header {
            background: #2a2a2a;
            font-weight: 600;
            color: #fff;
        }

        .section-header td {
            padding: 0.75rem 1rem;
            border-bottom: 2px solid #333;
        }

        footer {
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid #333;
            color: #666;
            font-size: 0.85rem;
        }

        .warning {
            background: #3a2a1a;
            border-left: 4px solid #ff9800;
            padding: 1rem;
            margin-bottom: 2rem;
            border-radius: 4px;
        }

        .warning-title {
            color: #ff9800;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Carbon ACX - Command Reference</h1>
        <p class="subtitle">Quick reference for common development tasks</p>
        <p class="last-updated">Last updated: 2025-10-31</p>

        <div class="warning">
            <div class="warning-title">‚ö†Ô∏è Local Use Only</div>
            This page is for local development reference. Click any command to copy it to clipboard.
        </div>

        <table>
            <thead>
                <tr>
                    <th>Job</th>
                    <th>Command</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <!-- Setup -->
                <tr class="section-header">
                    <td colspan="3">Setup & Installation</td>
                </tr>
                <tr>
                    <td class="job">Install dependencies</td>
                    <td><code class="command">pnpm install</code></td>
                    <td class="description">Install all package dependencies</td>
                </tr>

                <!-- Development -->
                <tr class="section-header">
                    <td colspan="3">Development</td>
                </tr>
                <tr>
                    <td class="job">Start dev server</td>
                    <td><code class="command">pnpm dev</code></td>
                    <td class="description">Start development server with hot reload</td>
                </tr>
                <tr>
                    <td class="job">Start web app dev</td>
                    <td><code class="command">pnpm --filter carbon-acx-web dev</code></td>
                    <td class="description">Start web app development server only</td>
                </tr>
                <tr>
                    <td class="job">Generate schema</td>
                    <td><code class="command">pnpm schema:gen</code></td>
                    <td class="description">Generate TypeScript types from semantic model</td>
                </tr>

                <!-- Build -->
                <tr class="section-header">
                    <td colspan="3">Build & Deploy</td>
                </tr>
                <tr>
                    <td class="job">Build for production</td>
                    <td><code class="command">pnpm build</code></td>
                    <td class="description">Build all packages for production</td>
                </tr>
                <tr>
                    <td class="job">Build web app</td>
                    <td><code class="command">pnpm --filter carbon-acx-web build</code></td>
                    <td class="description">Build web application only</td>
                </tr>
                <tr>
                    <td class="job">Prebuild web</td>
                    <td><code class="command">pnpm prebuild:web</code></td>
                    <td class="description">Run prebuild tasks for web app</td>
                </tr>

                <!-- Testing -->
                <tr class="section-header">
                    <td colspan="3">Testing & Quality</td>
                </tr>
                <tr>
                    <td class="job">Run tests</td>
                    <td><code class="command">pnpm test</code></td>
                    <td class="description">Run all test suites</td>
                </tr>
                <tr>
                    <td class="job">Type check</td>
                    <td><code class="command">pnpm typecheck</code></td>
                    <td class="description">Run TypeScript type checking</td>
                </tr>
                <tr>
                    <td class="job">Lint code</td>
                    <td><code class="command">pnpm lint</code></td>
                    <td class="description">Run ESLint on codebase</td>
                </tr>
                <tr>
                    <td class="job">Format code</td>
                    <td><code class="command">pnpm format</code></td>
                    <td class="description">Format code with Prettier</td>
                </tr>

                <!-- Git -->
                <tr class="section-header">
                    <td colspan="3">Git Operations</td>
                </tr>
                <tr>
                    <td class="job">Check status</td>
                    <td><code class="command">git status</code></td>
                    <td class="description">View current branch and changed files</td>
                </tr>
                <tr>
                    <td class="job">View diff</td>
                    <td><code class="command">git diff</code></td>
                    <td class="description">See unstaged changes</td>
                </tr>
                <tr>
                    <td class="job">View recent commits</td>
                    <td><code class="command">git log --oneline -10</code></td>
                    <td class="description">Show last 10 commits</td>
                </tr>
                <tr>
                    <td class="job">Pull latest</td>
                    <td><code class="command">git pull origin main</code></td>
                    <td class="description">Fetch and merge latest changes</td>
                </tr>

                <!-- Package Management -->
                <tr class="section-header">
                    <td colspan="3">Package Management</td>
                </tr>
                <tr>
                    <td class="job">Add dependency</td>
                    <td><code class="command">pnpm add package-name</code></td>
                    <td class="description">Add a new package dependency</td>
                </tr>
                <tr>
                    <td class="job">Add dev dependency</td>
                    <td><code class="command">pnpm add -D package-name</code></td>
                    <td class="description">Add a development dependency</td>
                </tr>
                <tr>
                    <td class="job">Update dependencies</td>
                    <td><code class="command">pnpm update</code></td>
                    <td class="description">Update all dependencies to latest compatible versions</td>
                </tr>
                <tr>
                    <td class="job">List outdated</td>
                    <td><code class="command">pnpm outdated</code></td>
                    <td class="description">Check for outdated packages</td>
                </tr>

                <!-- Diagnostics -->
                <tr class="section-header">
                    <td colspan="3">Diagnostics</td>
                </tr>
                <tr>
                    <td class="job">Check Node version</td>
                    <td><code class="command">node --version</code></td>
                    <td class="description">Verify Node.js version</td>
                </tr>
                <tr>
                    <td class="job">Check pnpm version</td>
                    <td><code class="command">pnpm --version</code></td>
                    <td class="description">Verify pnpm version</td>
                </tr>
                <tr>
                    <td class="job">List workspaces</td>
                    <td><code class="command">pnpm list --depth 0</code></td>
                    <td class="description">Show all workspace packages</td>
                </tr>

                <!-- Documentation -->
                <tr class="section-header">
                    <td colspan="3">Documentation</td>
                </tr>
                <tr>
                    <td class="job">Update this page</td>
                    <td><code class="command">./scripts/update-commands-page.sh</code></td>
                    <td class="description">Regenerate this command reference page</td>
                </tr>
            </tbody>
        </table>

        <footer>
            <p><strong>Note:</strong> This is a local reference page. Commands are safe to run in your development environment.</p>
            <p>Generated for: <strong>carbon-acx</strong> | Location: <code>~/dev/carbon-acx</code></p>
        </footer>
    </div>

    <script>
        // Click-to-copy functionality
        document.querySelectorAll('.command').forEach(cmd => {
            cmd.addEventListener('click', async function() {
                const text = this.textContent.replace('üìã', '').trim();
                try {
                    await navigator.clipboard.writeText(text);
                    this.classList.add('copied');
                    setTimeout(() => this.classList.remove('copied'), 300);
                } catch (err) {
                    // Fallback for older browsers
                    const textarea = document.createElement('textarea');
                    textarea.value = text;
                    document.body.appendChild(textarea);
                    textarea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textarea);
                    this.classList.add('copied');
                    setTimeout(() => this.classList.remove('copied'), 300);
                }
            });
        });
    </script>
</body>
</html>
